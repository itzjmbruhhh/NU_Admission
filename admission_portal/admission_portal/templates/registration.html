{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Registration - NU Lipa Smart Admission</title>
    <link rel="stylesheet" href="{% static 'css/registration.css' %}">
</head>
<body>
    <div class="header">
        <div class="logo">
            <h1>NUQuest</h1>
            <span>Smart Admission System</span>
        </div>
    </div>

    <div class="container">
        <div class="form-container">
            <h2 class="form-title">Student Registration Form</h2>
            
            <form id="registrationForm" method="POST" action="{% url 'register' %}">
                {% csrf_token %}
                <!-- Admission Section -->
                <div class="section">
                    <h3 class="section-title">I. Admission Information</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="schoolYear">School Year *</label>
                            <select id="schoolYear" name="schoolYear" required>
                                <option value="">Select School Year</option>
                                <option value="2024-2025">2024-2025</option>
                                <option value="2025-2026">2025-2026</option>
                                <option value="2027-2028">2027-2028</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="schoolTerm">School Term *</label>
                            <select id="schoolTerm" name="schoolTerm" required>
                                <option value="">Select Term</option>
                                <option value="1st">1st Term</option>
                                <option value="2nd">2nd Term</option>
                                <option value="3rd">3rd Term</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="campus">Campus *</label>
                            <select id="campus" name="campus" required>
                                <option value="">Select Campus</option>
                                <option value="NU-Lipa">NU-Lipa</option>
                                <option value="NU-Manila">NU-Manila</option>
                                <option value="NU-Laguna">NU-Laguna</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="firstChoice">Program Choice (1st Choice) *</label>
                            <select id="firstChoice" name="firstChoice" required>
                                <option value="">Select Program</option>
                                <option value="BS Information Technology">BS Information Technology</option>
                                <option value="BS Computer Science">BS Computer Science</option>
                                <option value="BS Civil Engineering">BS Civil Engineering</option>
                                <option value="BS Business Administration">BS Business Administration</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="secondChoice">Program Choice (2nd Choice) *</label>
                            <select id="secondChoice" name="secondChoice" required>
                                <option value="">Select Program</option>
                                <option value="BS Information Technology">BS Information Technology</option>
                                <option value="BS Computer Science">BS Computer Science</option>
                                <option value="BS Civil Engineering">BS Civil Engineering</option>
                                <option value="BS Business Administration">BS Business Administration</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="studentType">Student Type *</label>
                            <select id="studentType" name="studentType" required>
                                <option value="">Select Student Type</option>
                                <option value="Full Time">Full Time</option>
                                <option value="Part-Time">Part-Time</option>
                                <option value="Transferee">Transferee</option>
                                <option value="Returnee">Returnee</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Personal Information Section -->
                <div class="section">
                    <h3 class="section-title">II. Personal Information</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="lastName">Last Name *</label>
                            <input type="text" id="lastName" name="lastName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="firstName">First Name *</label>
                            <input type="text" id="firstName" name="firstName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="middleName">Middle Name *</label>
                            <input type="text" id="middleName" name="middleName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="suffix">Suffix (if applicable)</label>
                            <input type="text" id="suffix" name="suffix">
                        </div>
                        
                        <div class="form-group">
                            <label for="gender">Gender *</label>
                            <select id="gender" name="gender" required>
                                <option value="">Select Gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="civilStatus">Civil Status *</label>
                            <select id="civilStatus" name="civilStatus" required>
                                <option value="">Select Civil Status</option>
                                <option value="Single">Single</option>
                                <option value="Married">Married</option>
                                <option value="Divorced">Divorced</option>
                                <option value="Widowed">Widowed</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="birthDate">Birth Date *</label>
                            <input type="date" id="birthDate" name="birthDate" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="birthPlace">Birth Place *</label>
                            <input type="text" id="birthPlace" name="birthPlace" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="nationality">Nationality *</label>
                            <input type="text" id="nationality" name="nationality" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="religion">Religion *</label>
                            <input type="text" id="religion" name="religion" required>
                        </div>
                    </div>
                </div>

                <!-- Contact Information Section -->
                <div class="section">
                    <h3 class="section-title">III. Contact Information</h3>
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label for="presentAddress">Present Address *</label>
                            <input type="text" id="presentAddress" name="presentAddress" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="cityProvince">City/Province *</label>
                            <input type="text" id="cityProvince" name="cityProvince" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="zipCode">Zip Code *</label>
                            <input type="text" id="zipCode" name="zipCode" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="mobileNumber">Mobile Number *</label>
                            <input type="tel" id="mobileNumber" name="mobileNumber" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="emailAddress">Email Address *</label>
                            <input type="email" id="emailAddress" name="emailAddress" required>
                        </div>
                    </div>
                </div>

                <!-- Family Background Section -->
                <div class="section">
                    <h3 class="section-title">IV. Family Background</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="fatherName">Father's Full Name *</label>
                            <input type="text" id="fatherName" name="fatherName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="fatherOccupation">Father's Occupation *</label>
                            <input type="text" id="fatherOccupation" name="fatherOccupation" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="motherName">Mother's Full Name *</label>
                            <input type="text" id="motherName" name="motherName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="motherOccupation">Mother's Occupation *</label>
                            <input type="text" id="motherOccupation" name="motherOccupation" required>
                        </div>
                        
                        <div class="form-group full-width">
                            <label for="guardianContact">Guardian's Contact Information *</label>
                            <input type="text" id="guardianContact" name="guardianContact" required>
                        </div>
                    </div>
                </div>

                <!-- Consent & Agreements Section -->
                <div class="section">
                    <h3 class="section-title">V. Consent & Agreements</h3>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="truthfulInfo" name="truthfulInfo" required>
                            <label for="truthfulInfo">I certify that all information provided is true and accurate to the best of my knowledge. *</label>
                        </div>
                        
                        <div class="checkbox-item">
                            <input type="checkbox" id="dataPrivacy" name="dataPrivacy" required>
                            <label for="dataPrivacy">I agree to the school's data privacy policy regarding the processing of my personal information. *</label>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="submit-section">
                    <button type="submit" class="submit-btn">Submit Application</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="errorModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Form Validation Error</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <p id="errorMessage">Please fill in all required fields before submitting the form.</p>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const requiredFields = document.querySelectorAll('[required]');
            let emptyFields = [];
            
            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    emptyFields.push(field.previousElementSibling.textContent.replace(' *', ''));
                    field.classList.add('error');
                } else {
                    field.classList.remove('error');
                }
            });
            
            if (emptyFields.length > 0) {
                const modal = document.getElementById('errorModal');
                const errorMessage = document.getElementById('errorMessage');
                
                if (emptyFields.length === 1) {
                    errorMessage.textContent = `Please fill in the ${emptyFields[0]} field.`;
                } else {
                    errorMessage.textContent = `Please fill in the following required fields: ${emptyFields.join(', ')}.`;
                }
                
                modal.style.display = 'block';
            } else {
                alert('Application submitted successfully!');
                // Here you would typically send the data to a server
            }
        });
        
        // Close modal functionality
        document.querySelector('.close').addEventListener('click', function() {
            document.getElementById('errorModal').style.display = 'none';
        });
        
        window.addEventListener('click', function(e) {
            const modal = document.getElementById('errorModal');
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });
        
        // Remove error class on input
        document.querySelectorAll('input, select').forEach(field => {
            field.addEventListener('input', function() {
                this.classList.remove('error');
            });
        });
    </script>
</body>
</html>